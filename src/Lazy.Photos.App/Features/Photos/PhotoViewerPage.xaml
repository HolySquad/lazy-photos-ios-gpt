<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Lazy.Photos.App.Features.Photos.PhotoViewerPage"
             BackgroundColor="Black"
             Shell.NavBarIsVisible="False"
             Shell.TabBarIsVisible="False">

    <Grid RowDefinitions="Auto,*,Auto">
        <Grid Padding="12" ColumnDefinitions="Auto,*,Auto,Auto"
              IsVisible="{Binding IsChromeVisible}">
            <Button Text="&lt;"
                    TextColor="White"
                    BackgroundColor="Transparent"
                    Command="{Binding GoBackCommand}" />
            <Label Grid.Column="1"
                   Text="{Binding Photo.DisplayName}"
                   TextColor="White"
                   VerticalOptions="Center"
                   LineBreakMode="TailTruncation" />
            <Button Grid.Column="2"
                    Text="*"
                    TextColor="White"
                    BackgroundColor="Transparent" />
            <Button Grid.Column="3"
                    Text="..."
                    TextColor="White"
                    BackgroundColor="Transparent" />
        </Grid>

        <Grid Grid.Row="1">
            <Image x:Name="PhotoImage"
                   Source="{Binding DisplayImage}"
                   Aspect="AspectFit"
                   BackgroundColor="Black">
                <Image.GestureRecognizers>
                    <TapGestureRecognizer Command="{Binding ToggleChromeCommand}" />
                    <TapGestureRecognizer NumberOfTapsRequired="2" Tapped="OnDoubleTap" />
                    <PinchGestureRecognizer PinchUpdated="OnPinchUpdated" />
                </Image.GestureRecognizers>
            </Image>
        </Grid>

        <Grid Grid.Row="2"
              Padding="8,12"
              ColumnDefinitions="*,*,*,*"
              BackgroundColor="#000000"
              IsVisible="{Binding IsChromeVisible}">
            <Button Text="Share"
                    TextColor="White"
                    BackgroundColor="Transparent" />
            <Button Grid.Column="1"
                    Text="Edit"
                    TextColor="White"
                    BackgroundColor="Transparent" />
            <Button Grid.Column="2"
                    Text="Lens"
                    TextColor="White"
                    BackgroundColor="Transparent" />
            <Button Grid.Column="3"
                    Text="Delete"
                    TextColor="White"
                    BackgroundColor="Transparent" />
        </Grid>
    </Grid>

</ContentPage>
