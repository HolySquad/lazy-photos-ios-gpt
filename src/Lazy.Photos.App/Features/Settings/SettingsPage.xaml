<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Lazy.Photos.App"
             x:Class="Lazy.Photos.App.Features.Settings.SettingsPage"
             Title="Settings"
             BackgroundColor="White">

    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="16">

            <!-- Account Section -->
            <Border StrokeShape="RoundRectangle 12"
                    Stroke="#E0E0E0"
                    Padding="16">
                <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="12">
                    <Label FontFamily="MaterialDesignIcons"
                           Text="{x:Static local:IconFont.AccountCircle}"
                           FontSize="40"
                           TextColor="#666"
                           VerticalOptions="Center" />
                    <VerticalStackLayout Grid.Column="1" VerticalOptions="Center">
                        <Label Text="Not signed in"
                               FontSize="16"
                               FontAttributes="Bold"
                               TextColor="#222" />
                        <Label Text="Sign in to sync your photos"
                               FontSize="13"
                               TextColor="#666" />
                    </VerticalStackLayout>
                    <Button Grid.Column="2"
                            Text="Sign In"
                            BackgroundColor="#3F5A92"
                            TextColor="White"
                            CornerRadius="8"
                            Padding="16,8"
                            VerticalOptions="Center" />
                </Grid>
            </Border>

            <!-- Settings Options -->
            <Label Text="General"
                   FontSize="14"
                   FontAttributes="Bold"
                   TextColor="#666"
                   Margin="0,8,0,0" />

            <Border StrokeShape="RoundRectangle 12"
                    Stroke="#E0E0E0"
                    Padding="0">
                <VerticalStackLayout>
                    <Grid Padding="16" ColumnDefinitions="Auto,*,Auto">
                        <Label FontFamily="MaterialDesignIcons"
                               Text="{x:Static local:IconFont.CloudSync}"
                               FontSize="24"
                               TextColor="#666"
                               VerticalOptions="Center" />
                        <Label Grid.Column="1"
                               Text="Auto-sync photos"
                               FontSize="16"
                               TextColor="#222"
                               VerticalOptions="Center"
                               Margin="12,0,0,0" />
                        <Switch Grid.Column="2"
                                IsToggled="{Binding AutoSyncEnabled}"
                                VerticalOptions="Center" />
                    </Grid>
                    <BoxView HeightRequest="1" Color="#E0E0E0" />
                    <Grid Padding="16" ColumnDefinitions="Auto,*,Auto">
                        <Label FontFamily="MaterialDesignIcons"
                               Text="{x:Static local:IconFont.Wifi}"
                               FontSize="24"
                               TextColor="#666"
                               VerticalOptions="Center" />
                        <Label Grid.Column="1"
                               Text="Sync on Wi-Fi only"
                               FontSize="16"
                               TextColor="#222"
                               VerticalOptions="Center"
                               Margin="12,0,0,0" />
                        <Switch Grid.Column="2"
                                IsToggled="{Binding WifiOnlySync}"
                                VerticalOptions="Center" />
                    </Grid>
                </VerticalStackLayout>
            </Border>

            <!-- Storage & Cache Section -->
            <Label Text="Storage &amp; Cache"
                   FontSize="14"
                   FontAttributes="Bold"
                   TextColor="#666"
                   Margin="0,8,0,0" />

            <Border StrokeShape="RoundRectangle 12"
                    Stroke="#E0E0E0"
                    Padding="16">
                <VerticalStackLayout Spacing="12">
                    <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto,Auto,Auto,Auto" RowSpacing="8">
                        <Label Text="Cached photos" Grid.Row="0" TextColor="#222" />
                        <Label Text="{Binding CachedCount}" Grid.Row="0" Grid.Column="1" TextColor="#666" />

                        <Label Text="Synced photos" Grid.Row="1" TextColor="#222" />
                        <Label Text="{Binding SyncedCount}" Grid.Row="1" Grid.Column="1" TextColor="#666" />

                        <Label Text="Device photos (sample)" Grid.Row="2" TextColor="#222" />
                        <Label Text="{Binding DeviceCount}" Grid.Row="2" Grid.Column="1" TextColor="#666" />

                        <Label Text="Database size" Grid.Row="3" TextColor="#222" />
                        <Label Text="{Binding DatabaseSize}" Grid.Row="3" Grid.Column="1" TextColor="#666" />

                        <Label Text="Thumbnail cache" Grid.Row="4" TextColor="#222" />
                        <Label Text="{Binding ThumbnailCacheSize}" Grid.Row="4" Grid.Column="1" TextColor="#666" />
                    </Grid>

                    <Label Text="{Binding Status}"
                           FontSize="12"
                           TextColor="#999"
                           IsVisible="{Binding HasStatus}" />

                    <Grid ColumnDefinitions="*,*,*" ColumnSpacing="8">
                        <Button Text="Refresh"
                                FontSize="13"
                                Padding="8,4"
                                Command="{Binding RefreshCommand}" />
                        <Button Grid.Column="1"
                                Text="Clear Cache"
                                FontSize="13"
                                Padding="8,4"
                                Command="{Binding ClearCommand}" />
                        <Button Grid.Column="2"
                                Text="Index Photos"
                                FontSize="13"
                                Padding="8,4"
                                Command="{Binding IndexCommand}"
                                IsEnabled="{Binding IsNotIndexing}" />
                    </Grid>
                </VerticalStackLayout>
            </Border>

            <!-- About Section -->
            <Label Text="About"
                   FontSize="14"
                   FontAttributes="Bold"
                   TextColor="#666"
                   Margin="0,8,0,0" />

            <Border StrokeShape="RoundRectangle 12"
                    Stroke="#E0E0E0"
                    Padding="0">
                <VerticalStackLayout>
                    <Grid Padding="16" ColumnDefinitions="Auto,*,Auto">
                        <Label FontFamily="MaterialDesignIcons"
                               Text="{x:Static local:IconFont.HelpCircle}"
                               FontSize="24"
                               TextColor="#666"
                               VerticalOptions="Center" />
                        <Label Grid.Column="1"
                               Text="Help &amp; Feedback"
                               FontSize="16"
                               TextColor="#222"
                               VerticalOptions="Center"
                               Margin="12,0,0,0" />
                        <Label Grid.Column="2"
                               FontFamily="MaterialDesignIcons"
                               Text="{x:Static local:IconFont.ChevronRight}"
                               FontSize="24"
                               TextColor="#999"
                               VerticalOptions="Center" />
                    </Grid>
                    <BoxView HeightRequest="1" Color="#E0E0E0" />
                    <Grid Padding="16" ColumnDefinitions="Auto,*,Auto">
                        <Label FontFamily="MaterialDesignIcons"
                               Text="{x:Static local:IconFont.InformationOutline}"
                               FontSize="24"
                               TextColor="#666"
                               VerticalOptions="Center" />
                        <Label Grid.Column="1"
                               Text="About Lazy Photos"
                               FontSize="16"
                               TextColor="#222"
                               VerticalOptions="Center"
                               Margin="12,0,0,0" />
                        <Label Grid.Column="2"
                               Text="{Binding AppVersion}"
                               FontSize="14"
                               TextColor="#999"
                               VerticalOptions="Center" />
                    </Grid>
                </VerticalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
