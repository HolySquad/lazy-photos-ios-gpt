<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Lazy.Photos.App"
             x:Class="Lazy.Photos.App.Features.Photos.PhotoViewerPage"
             BackgroundColor="Black"
             Shell.NavBarIsVisible="False"
             Shell.TabBarIsVisible="False">

    <Grid RowDefinitions="Auto,*,Auto">
        <Image x:Name="PhotoImage"
               Grid.RowSpan="3"
               Source="{Binding DisplayImage}"
               Aspect="AspectFit"
               BackgroundColor="Black">
            <Image.GestureRecognizers>
                <SwipeGestureRecognizer Direction="Left"
                                        Swiped="OnSwipeLeft" />
                <SwipeGestureRecognizer Direction="Right"
                                        Swiped="OnSwipeRight" />
                <TapGestureRecognizer Command="{Binding ToggleChromeCommand}" />
                <TapGestureRecognizer NumberOfTapsRequired="2" Tapped="OnDoubleTap" />
                <PinchGestureRecognizer PinchUpdated="OnPinchUpdated" />
            </Image.GestureRecognizers>
        </Image>

        <Grid Padding="12"
              ColumnDefinitions="Auto,*,Auto,Auto"
              BackgroundColor="#66000000"
              IsVisible="{Binding IsChromeVisible}">
            <Button FontFamily="MaterialDesignIcons"
                    Text="{x:Static local:IconFont.ArrowLeft}"
                    FontSize="24"
                    TextColor="White"
                    BackgroundColor="Transparent"
                    Command="{Binding GoBackCommand}" />
            <Label Grid.Column="1"
                   Text="{Binding Photo.DisplayName}"
                   TextColor="White"
                   VerticalOptions="Center"
                   LineBreakMode="TailTruncation" />
            <Button Grid.Column="2"
                    FontFamily="MaterialDesignIcons"
                    Text="{x:Static local:IconFont.StarOutline}"
                    FontSize="24"
                    TextColor="White"
                    BackgroundColor="Transparent" />
            <Button Grid.Column="3"
                    FontFamily="MaterialDesignIcons"
                    Text="{x:Static local:IconFont.DotsVertical}"
                    FontSize="24"
                    TextColor="White"
                    BackgroundColor="Transparent" />
        </Grid>

        <Grid Grid.Row="1">
            <Grid ColumnDefinitions="Auto,*,Auto"
                  IsVisible="{Binding IsChromeVisible}">
                <Button FontFamily="MaterialDesignIcons"
                        Text="{x:Static local:IconFont.ChevronLeft}"
                        FontSize="32"
                        TextColor="White"
                        BackgroundColor="#66000000"
                        Padding="6"
                        CornerRadius="20"
                        HorizontalOptions="Start"
                        VerticalOptions="Center"
                        Margin="12,0"
                        IsVisible="{Binding HasPrevious}"
                        Clicked="OnPreviousClicked" />
                <Button Grid.Column="2"
                        FontFamily="MaterialDesignIcons"
                        Text="{x:Static local:IconFont.ChevronRight}"
                        FontSize="32"
                        TextColor="White"
                        BackgroundColor="#66000000"
                        Padding="6"
                        CornerRadius="20"
                        HorizontalOptions="End"
                        VerticalOptions="Center"
                        Margin="12,0"
                        IsVisible="{Binding HasNext}"
                        Clicked="OnNextClicked" />
            </Grid>
        </Grid>

        <Grid Grid.Row="2"
              Padding="8,12"
              ColumnDefinitions="*,*,*,*"
              BackgroundColor="#66000000"
              IsVisible="{Binding IsChromeVisible}">
            <VerticalStackLayout Spacing="4" HorizontalOptions="Center">
                <Label FontFamily="MaterialDesignIcons"
                       Text="{x:Static local:IconFont.Share}"
                       FontSize="24"
                       TextColor="White"
                       HorizontalOptions="Center" />
                <Label Text="Share"
                       FontSize="12"
                       TextColor="White"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>
            <VerticalStackLayout Grid.Column="1" Spacing="4" HorizontalOptions="Center">
                <Label FontFamily="MaterialDesignIcons"
                       Text="{x:Static local:IconFont.Pencil}"
                       FontSize="24"
                       TextColor="White"
                       HorizontalOptions="Center" />
                <Label Text="Edit"
                       FontSize="12"
                       TextColor="White"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>
            <VerticalStackLayout Grid.Column="2" Spacing="4" HorizontalOptions="Center">
                <Label FontFamily="MaterialDesignIcons"
                       Text="{x:Static local:IconFont.ImageSearch}"
                       FontSize="24"
                       TextColor="White"
                       HorizontalOptions="Center" />
                <Label Text="Lens"
                       FontSize="12"
                       TextColor="White"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>
            <VerticalStackLayout Grid.Column="3" Spacing="4" HorizontalOptions="Center">
                <Label FontFamily="MaterialDesignIcons"
                       Text="{x:Static local:IconFont.Delete}"
                       FontSize="24"
                       TextColor="White"
                       HorizontalOptions="Center" />
                <Label Text="Delete"
                       FontSize="12"
                       TextColor="White"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>
        </Grid>
    </Grid>

</ContentPage>
